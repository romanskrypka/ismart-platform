# Инструкция по заполнению JSON файлов страниц блога

## Расположение файлов
JSON файлы страниц блога находятся в директории: `data/json/ru/pages/blog/`

Каждый файл должен иметь название, соответствующее slug страницы, например:
- `avtorskiy-nadzor-landshaft.json`
- `landshaftnoe-proektirovanie-poetapno.json`

## Структура JSON файла

### Основные поля (верхний уровень)
```json
{
  "slug": "avtorskiy-nadzor-landshaft",
  "visible": true,
  "title": "Основной заголовок статьи",
  "date": "20.06.2025",
  "category": {
    "title": "Статья",
    "slug": "article"
  },
  "cover": {
    "src": "data/img/portfolio/project-name/horizontal/raw/1.webp",
    "alt": "cover"
  },
  "items": [...]
}
```

#### Описание основных полей:
- **slug** - уникальный идентификатор страницы (используется в URL)
- **visible** - видимость страницы (true/false)
- **title** - основной заголовок статьи (отображается в promo секции)
- **date** - дата публикации в формате "ДД.ММ.ГГГГ" (ВАЖНО: всегда уточняйте текущую дату у системы)
- **category** - категория статьи
- **cover** - обложка статьи (путь к изображению из портфолио)
- **items** - массив контентных блоков статьи

### Структура контентных блоков (items)

#### 1. Простой текстовый блок
```json
{
  "class": "content-wrap",
  "content": "<div class='section__subitem desc-wrap'>{{ item.desc | raw }}</div>",
  "desc": "Текст абзаца с поддержкой HTML тегов.<br><br>Можно использовать переносы строк."
}
```

#### 2. Блок с заголовком и текстом
```json
{
  "class": "content-wrap",
  "content": "<div class='section__subitem heading-wrap'>{% include 'components/heading.twig' with {'item': item.heading} %}</div><div class='section__subitem desc-wrap'>{{ item.desc | raw }}</div>",
  "heading": {
    "tag": "h2",
    "class": "h5 heading uppercase",
    "title": "Заголовок раздела"
  },
  "desc": "Текст после заголовка"
}
```

#### 3. Блок с заголовком, текстом и списком
```json
{
  "class": "content-wrap",
  "content": "<div class='section__subitem heading-wrap'>{% include 'components/heading.twig' with {'item': item.heading} %}</div><div class='section__subitem desc-wrap'>{{ item.desc.primary | raw }}</div><div class='section__subitem custom-list-wrap'>{% include 'components/custom-list.twig' with {'items': item.list.items} %}</div><div class='section__subitem desc-wrap'>{{ item.desc.secondary | raw }}</div>",
  "heading": {
    "tag": "h2",
    "class": "h5 heading uppercase",
    "title": "Заголовок с списком"
  },
  "desc": {
    "primary": "Текст перед списком",
    "secondary": "Текст после списка"
  },
  "list": {
    "items": [
      "Первый пункт списка",
      "Второй пункт списка",
      "Третий пункт списка"
    ]
  }
}
```

#### 4. Блок с заголовком, несколькими списками и текстами
```json
{
  "class": "content-wrap",
  "content": "<div class='section__subitem heading-wrap'>{% include 'components/heading.twig' with {'item': item.heading} %}</div><div class='section__subitem desc-wrap'>{{ item.desc.primary | raw }}</div><div class='section__subitem custom-list-wrap'>{% include 'components/custom-list.twig' with {'items': item.list.items} %}</div><div class='section__subitem desc-wrap'>{{ item.desc.secondary | raw }}</div><div class='section__subitem custom-list-wrap'>{% include 'components/custom-list.twig' with {'items': item.list.additional} %}</div><div class='section__subitem desc-wrap'>{{ item.desc.tertiary | raw }}</div>",
  "heading": {
    "tag": "h2",
    "class": "h5 heading uppercase",
    "title": "Заголовок с несколькими списками"
  },
  "desc": {
    "primary": "Первый текст перед основным списком",
    "secondary": "Текст между списками",
    "tertiary": "Заключительный текст после всех списков"
  },
  "list": {
    "items": [
      "Пункт основного списка 1",
      "Пункт основного списка 2",
      "Пункт основного списка 3"
    ],
    "additional": [
      "Пункт дополнительного списка 1",
      "Пункт дополнительного списка 2",
      "Пункт дополнительного списка 3"
    ]
  }
}
```

## Правила оформления

### Заголовки
- Используйте единообразное форматирование: `"class": "h5 heading uppercase"`
- Тег всегда: `"tag": "h2"`
- Заголовки должны быть в единственном числе и без знаков препинания в конце
- Если заголовок предоставлен готовым текстом от редактора/клиента — используйте его без изменений (включая двоеточия и иные знаки), правило выше не применяется

### Списки
- По умолчанию пункты списка пишутся **без знаков препинания в конце**
- Если список или его пункт предоставлен автором/редактором — используйте текст **точь‑в‑точь**, включая знаки препинания и регистр
- **Первое слово пункта всегда с заглавной буквы** (обязательное правило для всех списков)
- Используйте краткие, понятные формулировки
- При создании списка обязательно удаляйте все знаки препинания в конце каждого пункта
- **Избегайте маркированных списков в тексте** - вместо этого используйте отдельные `list` компоненты
- Для сложных структур с несколькими списками используйте `list.items` и `list.additional`
- Соответствующие тексты размещайте в `desc.primary`, `desc.secondary`, `desc.tertiary`

### Текст
- Поддерживается HTML разметка
- Переносы строк: `<br><br>`
- Избегайте избыточного форматирования

### Контент от автора/редактора (приоритет исходного текста)
- Все тексты, переданные редактором/клиентом, используются **точь‑в‑точь**, без правок и «улучшений»
- Не изменяйте смысл, формулировки, орфографию, пунктуацию, регистр, типы тире/кавычек
- Сохраняйте исходные переносы строк и разметку (включая `<br><br>`), если они заданы
- При конфликте с правилами выше (заголовки без знаков, списки без пунктуации) — приоритет у исходного текста автора

### Пункты‑параграфы от автора: абзацы или список
- По умолчанию сохраняйте такие блоки как абзацы в `desc`, разделяя `<br><br>`.
- Если явно требуется оформить пунктами (задача/ТЗ/комментарий): преобразуйте в `list.items`, где один пункт = один исходный абзац, без сокращений. Сохраняйте внутренняя пунктуацию; в конце пунктов не используйте `;`.
- Важное: объём и формулировки не сокращать; допускается только изменение способа отображения (абзацы → список).
- Пример абзацами:
```json
{
  "class": "content-wrap",
  "content": "<div class='section__subitem heading-wrap'>{% include 'components/heading.twig' with {'item': item.heading} %}</div><div class='section__subitem desc-wrap'>{{ item.desc | raw }}</div>",
  "heading": {
    "tag": "h2",
    "class": "h5 heading uppercase",
    "title": "Как выбрать стиль именно для вашего участка"
  },
  "desc": "Архитектура дома. Если у вас современный дом, то классический или пейзажный стиль потребуют адаптации. Стиль должен поддерживать облик строения.<br><br>Размер участка. Для Скандинавского сада размер не критичен — он может быть реализован как на просторной, так и на компактной территории. Главное — это не метраж, а потенциал природной среды: рельеф, лесные массивы, возможность мягкой интеграции с окружением. Такой подход позволяет адаптировать стиль даже на небольших участках — если грамотно выстроить зонирование и выбрать устойчивые местные растения.<br><br>Климат и почва. Не все растения выживут в северных широтах. Важно адаптировать композиции под местность — например, заменить лаванды на котовник, оливу — на иву.<br><br>Образ жизни. Любите принимать гостей? Нужен простор и терраса. Предпочитаете уединение — подойдут уединённые уголки и хвойные изгороди."
}
```

- Пример списком (по явному требованию):
```json
{
  "class": "content-wrap",
  "content": "<div class='section__subitem heading-wrap'>{% include 'components/heading.twig' with {'item': item.heading} %}</div><div class='section__subitem desc-wrap'>{{ item.desc.primary | raw }}</div><div class='section__subitem custom-list-wrap'>{% include 'components/custom-list.twig' with {'items': item.list.items} %}</div>",
  "heading": {
    "tag": "h2",
    "class": "h5 heading uppercase",
    "title": "Как выбрать стиль именно для вашего участка"
  },
  "desc": {
    "primary": "Выбор ландшафтного стиля — это не только про визуальные предпочтения. Вот ключевые параметры, которые стоит учитывать:"
  },
  "list": {
    "items": [
      "Архитектура дома. Если у вас современный дом, то классический или пейзажный стиль потребуют адаптации. Стиль должен поддерживать облик строения.",
      "Размер участка. Для Скандинавского сада размер не критичен — он может быть реализован как на просторной, так и на компактной территории. Главное — это не метраж, а потенциал природной среды: рельеф, лесные массивы, возможность мягкой интеграции с окружением. Такой подход позволяет адаптировать стиль даже на небольших участках — если грамотно выстроить зонирование и выбрать устойчивые местные растения.",
      "Климат и почва. Не все растения выживут в северных широтах. Важно адаптировать композиции под местность — например, заменить лаванды на котовник, оливу — на иву.",
      "Образ жизни. Любите принимать гостей? Нужен простор и терраса. Предпочитаете уединение — подойдут уединённые уголки и хвойные изгороди."
    ]
  }
}
```

### Сравнение объёма исходного и готового текста (обязательный контроль)
- Нельзя сокращать исходный текст автора/редактора. Перефразирование, вычеркивание фраз/предложений — запрещены.
- Перед сохранением сверяйте объём:
  - Суммарное количество символов (без учёта HTML) в готовом блоке должно быть не меньше 98% от исходного.
  - Количество абзацев в готовом тексте должно соответствовать исходному. Абзацы разделяем `<br><br>`.
  - Ключевые фразы и термины из исходника должны присутствовать без изменений.
- Если требуется визуальная структура (список), но исходник передан абзацами — сохраняем формат абзацев (см. раздел выше).
- Исключение — только явное указание автора на сокращение/редактирование.

### Ключевые особенности корректировок (суммарные правила)
- Используйте исходные формулировки автора/редактора без изменений. Объём — не менее 98% от исходного.
- Если автор явно требует оформить как пункты — используйте `list.items`, где каждый пункт содержит ПОЛНЫЙ текст пункта «как есть» (включая двоеточия, запятые, тире внутри).
- Пункты списков: по умолчанию без финальной пунктуации. В конце пункта НЕ ставим символ `;`. Допускаются запятые/двоеточия/тире внутри пункта.
- Заголовки блоков: `heading.tag` всегда `"h2"` и `"class": "h5 heading uppercase"`.
- Ссылки в тексте: используйте точные классы и одинарные кавычки для атрибутов. Пример CTA:
  `<a href='landshaftnoe-proektirovanie' class='link link-color-2 font-1-medium'>Подробнее про Скандинавский сад</a>`
- **"Скандинавские сады®" НЕ должны быть ссылкой** — используйте только как обычный текст без HTML-тегов
- **Изображения внутри статьи**: НЕ ДОПУСКАЮТСЯ. Статья должна состоять только из текстовых блоков (заголовки, абзацы, списки).
- Использовать обертку `cover-wrap` внутри `items` ЗАПРЕЩЕНО.

### Изображения обложек
- Используйте изображения из портфолио: `data/img/portfolio/`
- Предпочтительно горизонтальные изображения: `/horizontal/raw/`
- Формат: `.webp`
- **ВАЖНО**: Обязательно проверяйте существование файла изображения перед использованием
- **ВАЖНО**: Проверяйте, что обложка не используется в других статьях блога - избегайте дублирования
- Обложка должна быть указана в двух местах:
  - В основном файле статьи (`cover.src`)
  - В файле списка блога `blog.json` (`cover.src`) — должны совпадать

### Частые ошибки с обложками
1. **Обложка не отображается на странице блога** — проверьте путь к файлу изображения
2. **Использование изображений в тексте** — изображения в теле статьи запрещены.

3. **Разные обложки в статье и списке блога** — пути в `cover.src` должны совпадать
4. **Отсутствующий файл изображения** — всегда проверяйте существование файла перед использованием
5. **Дублирующиеся обложки** — каждая статья должна иметь уникальную обложку

### Частые ошибки с контентом
1. **"Скандинавские сады®" как ссылка** — НИКОГДА не делайте этот текст ссылкой, только обычный текст
2. **Неактуальные даты** — всегда проверяйте и обновляйте дату публикации на текущую
3. **Неправильные alt-тексты для изображений** — используйте формат "Описание — проект Компании"

## Пример полной структуры
```json
{
  "slug": "example-article",
  "visible": true,
  "title": "Пример статьи о ландшафтном дизайне",
  "date": "20.06.2025",
  "category": {
    "title": "Статья",
    "slug": "article"
  },
  "cover": {
    "src": "data/img/portfolio/bauhaus/horizontal/raw/1.webp",
    "alt": "cover"
  },
  "items": [
    {
      "class": "content-wrap",
      "content": "<div class='section__subitem desc-wrap'>{{ item.desc | raw }}</div>",
      "desc": "Вводный абзац статьи."
    },
    {
      "class": "content-wrap",
      "content": "<div class='section__subitem heading-wrap'>{% include 'components/heading.twig' with {'item': item.heading} %}</div><div class='section__subitem desc-wrap'>{{ item.desc.primary | raw }}</div><div class='section__subitem custom-list-wrap'>{% include 'components/custom-list.twig' with {'items': item.list.items} %}</div><div class='section__subitem desc-wrap'>{{ item.desc.secondary | raw }}</div>",
      "heading": {
        "tag": "h2",
        "class": "h5 heading uppercase",
        "title": "Основные принципы"
      },
      "desc": {
        "primary": "Описание перед списком:",
        "secondary": "Заключительный текст после списка."
      },
      "list": {
        "items": [
          "Первый принцип",
          "Второй принцип",
          "Третий принцип"
        ]
      }
    }
  ]
}
```

## Добавление статьи в общий список блога

После создания JSON файла статьи необходимо добавить её в файл `data/json/ru/pages/blog.json` в секцию `blog-container.data.cards`.

### Структура карточки в blog.json:
```json
{
  "slug": "avtorskiy-nadzor-landshaft",
  "visible": true,
  "date": "20.06.2025",
  "desc": "Краткое описание статьи в 1-2 предложения, которое отображается в списке блога",
  "cover": {
    "src": "data/img/portfolio/tikhaya-gavan/horizontal/raw/1.webp",
    "alt": "cover"
  }
}
```

### Правила добавления:
- Новые статьи добавляются **в самый верх** массива `cards`
- Поля `slug`, `date` и `cover` должны точно совпадать с данными в файле статьи
- Поле `visible: true` делает статью видимой на странице блога
- **ВАЖНО: Поле `desc`** — короткое описание статьи (1-2 предложения), которое отображается в карточке на странице блога. Должно быть информативным и привлекать внимание читателя
- Используйте ту же обложку, что и в файле статьи

### Пример добавления новой статьи:
```json
{
  "name": "blog-container",
  "data": {
    "cards": [
      {
        "slug": "novaya-statya",
        "visible": true,
        "date": "25.06.2025",
        "desc": "Описание новой статьи в 1-2 предложения",
        "cover": {
          "src": "data/img/portfolio/bauhaus/horizontal/raw/1.webp",
          "alt": "cover"
        }
      },
      {
        "slug": "avtorskiy-nadzor-landshaft",
        "visible": true,
        "date": "20.06.2025",
        "desc": "Описание статьи об авторском надзоре",
        "cover": {
          "src": "data/img/portfolio/tikhaya-gavan/horizontal/raw/1.webp",
          "alt": "cover"
        }
      }
    ]
  }
}
```

## SEO-метаданные

После создания JSON файла статьи необходимо создать SEO-файл в `data/json/ru/seo/blog/{slug}.json`.

### Структура SEO-блока для статьи блога:
```json
{
  "name": "blog/slug-statyi",
  "title": "SEO title страницы",
  "h1": "H1 заголовок страницы",
  "meta": [
    {
      "name": "description",
      "content": "SEO description страницы"
    },
    {
      "property": "og:url",
      "content": "https://example.com/blog/slug-statyi/"
    },
    {
      "property": "og:type",
      "content": "article"
    },
    {
      "property": "og:title",
      "content": "SEO title страницы"
    },
    {
      "property": "og:description",
      "content": "SEO description страницы"
    },
    {
      "property": "og:site_name",
      "content": "Студия"
    },
    {
      "property": "og:image",
      "content": "https://example.com/путь/к/обложке/статьи.webp"
    },
    {
      "property": "og:image:secure_url",
      "content": "https://example.com/путь/к/обложке/статьи.webp"
    }
  ]
}
```

### Правила заполнения SEO:
- **name** - должен быть в формате `"blog/slug-статьи"`
- **title** - SEO заголовок страницы (отображается в поисковой выдаче)
- **h1** - H1 заголовок страницы (должен совпадать с `title` из JSON файла статьи)
- **description** - краткое описание статьи для поисковых систем
- **og:url** - полный URL страницы статьи
- **og:type** - для статей всегда `"article"`
- **og:image** - URL обложки статьи (должен совпадать с `cover.src` из статьи)

### Где добавлять:
SEO-файл должен быть создан отдельно с именем `{slug}.json` в папке `data/json/ru/seo/blog/`.

## Технические требования
- Валидный JSON формат
- Кодировка UTF-8
- **НЕ экранировать кавычки в HTML** - использовать одинарные кавычки для атрибутов классов
- **Правила использования кавычек:**
  - Для HTML-атрибутов (class, href и др.) - одинарные кавычки: `class='link'`
  - В тексте для выделения слов - елочки: «слово»
  - НЕ использовать экранированные кавычки типа `\"` в HTML
- Обязательная проверка синтаксиса перед сохранением
- **ВАЖНО: Всегда уточняйте текущую дату у системы** перед заполнением поля `date`
- Добавление статьи в `blog.json` для отображения в списке
- Создание SEO-файла в папке `seo/blog/` для корректной индексации 