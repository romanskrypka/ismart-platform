# Опросник для полной спецификации проекта под LLM

**Цель:** Этот документ предназначен для сбора всей необходимой информации, чтобы LLM-ассистент (Cursor) мог самостоятельно сгенерировать полную проектную документацию и реализовать проект с нуля, следуя методологиям PCAM, GRACE и FLEX.

**Инструкция:** Пожалуйста, ответьте на вопросы в каждом блоке как можно подробнее. Ваши ответы станут "источником правды" для ИИ.

---

## Блок 1: Видение и цели проекта (Project Vision & Goals)

*Этот блок определяет высокоуровневую стратегию проекта. Ответы из этого блока напрямую используются для формирования `DEVELOPMENT_PLAN.md` (раздел "Видение проекта") и `.cursorrules` (глобальная цель).* 

**1.1. Название проекта:**
*Как будет называться ваш проект? (например, "iSmart Platform", "Retail Logistics Transformation")*

**1.2. Цель проекта (одним предложением):**
*Опишите суть проекта в одном предложении, отвечая на вопросы "Что это?" и "Для кого это?".*
> **Пример:** Веб-платформа для автоматизации складской логистики с ИИ-агентами, которая позволяет операторам управлять приёмкой, размещением и отгрузкой товаров через единый интерфейс.

**1.3. Проблема, которую решает проект:**
*Какую конкретную "боль" или неэффективность вы устраняете? Почему этот проект важен?*
> **Пример:** Операторы тратят до 40% времени на ручной поиск ячеек для размещения товара и сверку остатков в Excel, что приводит к ошибкам и замедляет отгрузку.

**1.4. Ключевые бизнес-цели и KPI:**
*Как вы будете измерять успех проекта? Укажите 2-3 измеримых показателя.*
> **Пример:**
> - Сократить время на размещение одного паллета на 50% (с 10 до 5 минут).
> - Снизить количество ошибок в учёте остатков до 0.5%.
> - Увеличить скорость сборки заказов на 20%.

**1.5. Границы MVP (Minimum Viable Product):**
*Что абсолютно необходимо для запуска первой версии? А что точно НЕ входит в неё? Это помогает управлять объёмом работ.*
> **Пример:**
> - **MVP ВКЛЮЧАЕТ:** Автоматический подбор ячейки для размещения, обновление остатков в реальном времени, базовый веб-интерфейс для оператора.
> - **MVP НЕ ВКЛЮЧАЕТ:** ИИ-агент для прогнозирования спроса, мобильное приложение, интеграция с 1С.

---

## Блок 2: Бизнес-логика и функциональность (Business Logic & Functionality)

*Этот блок детализирует, ЧТО система должна делать. Ответы станут основой для моделей данных, бизнес-сценариев в `DEVELOPMENT_PLAN.md` и логики в коде.*

**2.1. Основные бизнес-сценарии (User Stories):**
*Опишите 3-5 ключевых сценариев использования в формате: "[Роль] → [Что делает] → [Какой результат получает]".*
> **Пример:**
> 1.  **Оператор склада** → Сканирует штрих-код товара → Система показывает оптимальную ячейку для размещения и обновляет остатки.
> 2.  **Менеджер** → Запрашивает отчёт по оборачиваемости товаров за месяц → Система генерирует PDF-отчёт с графиками и таблицей.
> 3.  **Система** → Обнаруживает, что остаток товара ниже порогового значения → Автоматически создаёт черновик заявки на пополнение и уведомляет менеджера.

**2.2. Ключевые сущности системы:**
*Перечислите основные "объекты", с которыми работает система. Это будущие модели в Django.*
> **Пример:** Товар (Product), Склад (Warehouse), Ячейка (StorageCell), Заказ (Order), Пользователь (User), Поставщик (Supplier).

**2.3. Бизнес-правила и ограничения:**
*Есть ли какие-то специфические формулы, условия или ограничения, которые система должна соблюдать?*
> **Пример:**
> - Один товар не может занимать больше 80% объёма ячейки.
> - Заявка на пополнение не может быть создана, если уже есть открытая заявка на этот же товар.
> - Товары категории "Хрупкое" могут размещаться только на нижних ярусах.

**2.4. Жизненные циклы (Workflows):**
*Опишите статусы и переходы для 1-2 ключевых сущностей. Это основа для модуля "Процессы" в АРМ.*
> **Пример (для сущности "Заявка на пополнение"):**
> - **Статусы:** Черновик → На согласовании → Утверждена → В работе → Выполнена / Отклонена.
> - **Переходы:**
>     - `submit()`: Черновик → На согласовании
>     - `approve()`: На согласовании → Утверждена
>     - `reject()`: На согласовании → Отклонена

---

## Блок 3: Пользователи и роли (Users & Roles)

*Этот блок определяет, КТО будет использовать систему и какие у них будут права. Эта информация используется для настройки аутентификации, авторизации и для заполнения вашего личного профиля `USER_PROFILE.xml`.*

**3.1. Роли пользователей в системе:**
*Перечислите все роли, которые будут в системе.*
> **Пример:** Администратор, Менеджер по закупкам, Оператор склада, Гость.

**3.2. Права доступа (матрица доступа):**
*Для каждой роли кратко опишите, что она может делать, а что нет.*
> **Пример:**
> - **Администратор:** Может всё, включая управление пользователями.
> - **Менеджер по закупкам:** Может создавать и утверждать заявки, просматривать отчёты.
> - **Оператор склада:** Может только просматривать назначенные ему задачи по размещению и сборке.

**3.3. Ваш профиль как оператора ИИ (для USER_PROFILE.xml):**
*Эти вопросы касаются лично вас и вашего стиля работы с ИИ.*

- **Ваша основная роль в проекте?** (Продакт-менеджер, разработчик, архитектор...)
- **Предпочитаемый стиль ответов ИИ?** (Краткий и по делу / Развёрнутый с объяснениями)
- **Предпочитаемый стиль взаимодействия?** (ИИ должен сразу предлагать решение / Сначала задавать уточняющие вопросы)
- **Предпочитаете микросервисы или монолит?**
- **Насколько подробно нужно комментировать код?**
- **Какие задачи вы готовы делегировать ИИ?** (Генерация кода, рефакторинг, написание тестов, документация, отладка, проектирование архитектуры)
- **Ваше отношение к техническому долгу?** (Недопустим / Допустим в MVP)
- **Предпочитаете open-source решения или коммерческие?**


---

## Блок 4: Архитектура и Технический Стек (Architecture & Tech Stack)

*Этот блок фиксирует технические решения и ограничения. Ответы используются для `DEVELOPMENT_PLAN.md` (раздел "Технический стек" и "Решения и ограничения") и для `USER_PROFILE.xml`.*

**4.1. Основной стек:**
*Укажите основные технологии, которые вы планируете использовать.*
- **Язык программирования:** (например, Python 3.11+)
- **Основной фреймворк:** (например, Django 5.x)
- **База данных (для разработки):** (например, SQLite)
- **База данных (для продакшена):** (например, PostgreSQL)
- **Фронтенд-подход:** (например, Django Templates + HTMX, React, Vue)

**4.2. Архитектурный стиль:**
*Какой подход к архитектуре вы предпочитаете?*
- **Монолит:** Все компоненты в одном проекте. Проще для старта.
- **Микросервисы:** Система разбита на независимые сервисы. Сложнее, но более гибко.
- **Другое:** (укажите)

**4.3. Ключевые библиотеки и фреймворки:**
*Есть ли какие-то конкретные библиотеки, которые вы хотите использовать?*
> **Пример:** `django-rest-framework` для API, `celery` для фоновых задач, `django-mptt` для иерархий, `django-fsm` для процессов.

**4.4. Технические ограничения:**
*Есть ли какие-то технологии, которые вы НЕ хотите или НЕ можете использовать?*
> **Пример:**
> - **Контейнеризация:** Не использовать Docker из-за ограничений по диску.
> - **Облачный провайдер:** Только Alibaba Cloud.
> - **CI/CD:** Не настраивать на этапе MVP.

---

## Блок 5: Данные и Модели (Data & Models)

*Этот блок — глубокое погружение в структуру данных. На основе этих ответов ИИ будет генерировать модели Django. Для каждой сущности из пункта 2.2, опишите её структуру.*

**5.1. Детализация сущностей:**
*Для каждой сущности, перечислите её поля, их типы и свойства.*

> **Пример (для сущности "Товар" / `Product`):**
> - **`name`** (CharField, макс. 255 символов, обязательное) - Название товара.
> - **`sku`** (CharField, макс. 100 символов, обязательное, уникальное) - Артикул.
> - **`description`** (TextField, необязательное) - Описание товара.
> - **`weight`** (DecimalField, обязательное) - Вес в килограммах.
> - **`dimensions`** (JSONField, необязательное) - Габариты (длина, ширина, высота).
> - **`created_at`** (DateTimeField, автозаполнение при создании) - Дата создания.

**5.2. Связи между сущностями:**
*Опишите, как сущности связаны друг с другом.*
> **Пример:**
> - **Товар и Поставщик (`Product` & `Supplier`):** Многие-ко-Многим (один товар могут поставлять несколько поставщиков, один поставщик может поставлять много товаров).
> - **Заказ и Товар (`Order` & `Product`):** Многие-ко-Многим (в заказе много товаров, товар может быть во многих заказах). Нужна промежуточная модель `OrderItem` с полем `quantity`.
> - **Ячейка и Склад (`StorageCell` & `Warehouse`):** Один-ко-Многим (в одном складе много ячеек).

---

## Блок 6: API и Интеграции (API & Integrations)

*Этот блок описывает, как ваша система будет взаимодействовать с внешним миром и другими сервисами.*

**6.1. Внутренний API (если планируется):**
*Будет ли у проекта REST API для фронтенда или мобильного приложения? Если да, опишите 2-3 ключевых эндпоинта.*
> **Пример:**
> - `GET /api/products/` - Получить список всех товаров.
> - `POST /api/orders/` - Создать новый заказ.
> - `GET /api/orders/{id}/` - Получить информацию о конкретном заказе.

**6.2. Внешние интеграции:**
*Нужно ли будет интегрироваться с какими-либо внешними сервисами?*
> **Пример:**
> - **Платёжная система:** Stripe (для приёма платежей).
> - **Служба доставки:** API СДЭК (для расчёта стоимости доставки).
> - **Уведомления:** Telegram Bot API (для отправки уведомлений менеджерам).
> - **Аналитика:** Google Analytics.

**6.3. Аутентификация API:**
*Как будет защищено ваше API?*
> **Пример:** Token-based аутентификация (например, `django-rest-framework-simplejwt`).

**6.4. Webhooks (входящие и исходящие):**
*Будет ли система принимать или отправлять webhooks?*
> **Пример:**
> - **Входящий:** Принимать webhook от Stripe после успешной оплаты для изменения статуса заказа.
> - **Исходящий:** Отправлять webhook в N8n при создании нового пользователя для запуска онбординг-цепочки.


---

## Блок 7: Искусственный интеллект (AI)

*Этот блок определяет, как ИИ будет использоваться в проекте. Ответы лягут в основу архитектуры ИИ-компонентов, описанных в `specialized_systems_guide.md` и `arm_guide.md`.*

**7.1. Провайдеры LLM:**
*Какие провайдеры языковых моделей вы планируете использовать?*
> **Пример:** OpenAI, Alibaba Cloud, локальные модели (SLM).

**7.2. Сценарии использования ИИ:**
*Опишите 1-3 конкретные задачи, которые будет решать ИИ.*
> **Пример:**
> 1.  **ИИ-ассистент (Copilot):** Помогать менеджеру писать ответы на обращения клиентов, предлагая черновик на основе истории переписки и базы знаний.
> 2.  **Умный поиск:** Искать по базе документов не по ключевым словам, а по смыслу запроса.
> 3.  **Извлечение данных:** Автоматически извлекать сумму, дату и список позиций из загруженных PDF-счетов.

**7.3. База знаний для RAG (Retrieval-Augmented Generation):**
*Если планируется ИИ-ассистент, на каких данных он должен основывать свои ответы?*
> **Пример:** Внутренняя документация проекта, инструкции для сотрудников, история решённых тикетов, справочник товаров.

**7.4. ИИ-агенты и мультиагентные системы:**
*Планируется ли создание автономных агентов, которые могут выполнять задачи самостоятельно (например, по паттерну ReAct)?*
> **Пример:** Да, планируется агент, который будет мониторить отзывы на внешних площадках, анализировать их тональность и создавать задачи для отдела качества в случае негативных отзывов.

---

## Блок 8: Автоматизация (Automation)

*Этот блок описывает фоновые и периодические процессы, которые работают без прямого участия пользователя. Это основа для модуля "Автоматизация" в `arm_guide.md`.*

**8.1. Фоновые задачи:**
*Какие долгие операции нужно выполнять в фоне, чтобы не блокировать интерфейс пользователя?*
> **Пример:** Генерация большого годового отчёта, отправка массовой email-рассылки, обработка загруженного видео.

**8.2. Задачи по расписанию:**
*Какие действия система должна выполнять автоматически по расписанию?*
> **Пример:**
> - **Каждый день в 02:00:** Архивировать заказы, закрытые более года назад.
> - **Каждый час:** Синхронизировать остатки с внешней складской системой.
> - **Каждый понедельник в 09:00:** Отправлять менеджерам отчёт по ключевым метрикам за прошлую неделю.

**8.3. Использование визуальных воркфлоу (N8n):**
*Планируете ли вы использовать инструменты вроде N8n для создания сложных сценариев автоматизации без кода?*
> **Пример:** Да, планируем использовать N8n для онбординга новых пользователей: после регистрации в Django, N8n отправляет приветственное письмо, через день — письмо с инструкциями, а через неделю — опрос об удовлетворенности.

---

## Блок 9: Контроль и Мониторинг (Control & Monitoring)

*Этот блок определяет, как вы будете отслеживать состояние системы, действия пользователей и ключевые показатели. Это основа для модуля "Контроль результата" в `arm_guide.md` и для методологии Log Driven Development.*

**9.1. Аудит действий:**
*Действия с какими сущностями необходимо логировать для последующего анализа или разбирательств?*
> **Пример:** Все изменения в сущностях "Заказ" и "Товар" (кто, когда и что изменил).

**9.2. Дашборды и визуализация:**
*Какие ключевые показатели вы хотите видеть на дашборде в реальном времени?*
> **Пример:**
> - График количества созданных заказов по дням.
> - Круговая диаграмма распределения заказов по статусам.
> - Список 5 самых продаваемых товаров за последний месяц.

**9.3. Регламентные отчёты:**
*Какие отчёты система должна уметь генерировать в виде файлов (PDF, XLSX)?*
> **Пример:** Ежемесячный отчёт по продажам для бухгалтерии, отчёт по оборачиваемости склада для отдела логистики.

**9.4. Стандарт логирования:**
*Есть ли предпочтения по формату логов? Если нет, будет использован стандартный формат `[LEVEL][Class][Method][Step] Описание`.*

---

## Блок 10: Инфраструктура и Деплой (Infrastructure & Deployment)

*Этот блок описывает, где и как будет работать ваше приложение.*

**10.1. Облачный провайдер:**
*Где будет размещаться проект?*
> **Пример:** Alibaba Cloud, Yandex Cloud, Selectel, собственный сервер.

**10.2. Операционная система на сервере:**
*Какую ОС вы предпочитаете для продакшен-сервера?*
> **Пример:** Ubuntu 22.04, CentOS.

**10.3. CI/CD (Непрерывная интеграция и доставка):**
*Планируете ли вы настраивать автоматическую сборку, тестирование и деплой при каждом пуше в репозиторий?*
> **Пример:** Да, через GitHub Actions. / Нет, на этапе MVP деплой будет ручным.

**10.4. Управление зависимостями:**
*Как вы предпочитаете управлять зависимостями проекта?*
> **Пример:** `pip` и файл `requirements.txt`, `Poetry`, `pipenv`.

**10.5. Среда разработки:**
*На какой ОС вы работаете? Какие IDE и терминалы используете? Это нужно для `USER_PROFILE.xml`.*
> **Пример:** Windows 11, Cursor + VS Code, PowerShell.


---

## Финальный блок: Маппинг ответов на артефакты проекта

*Эта таблица показывает, как ваши ответы на вопросы из этого опросника будут преобразованы в конкретные файлы и разделы проектной документации. Это обеспечивает полную прозрачность и помогает ИИ-ассистенту точно следовать вашим требованиям.*

| Блок опросника | Куда идут ответы (Артефакт проекта) | Назначение артефакта |
|---|---|---|
| **Блок 1: Видение и цели** | `docs/DEVELOPMENT_PLAN.md` (Раздел 1) | Главный документ, описывающий цели, объём и план работ. |
| | `.cursorrules` (Раздел "Цель проекта") | Глобальное правило для Cursor, чтобы он всегда помнил о цели. |
| **Блок 2: Бизнес-логика** | `docs/DEVELOPMENT_PLAN.md` (Раздел "Бизнес-сценарии") | Описание того, как пользователи будут взаимодействовать с системой. |
| | `[app_name]/models.py` | Определение моделей данных в Django. |
| | `[app_name]/workflows.py` (для `django-fsm`) | Описание жизненных циклов и статусов бизнес-процессов. |
| **Блок 3: Пользователи и роли** | `docs/USER_PROFILE.xml` | Персональный профиль разработчика для кастомизации ответов ИИ. |
| | `users/models.py` | Модель `User` с кастомными полями и ролями. |
| | `docs/DEVELOPMENT_PLAN.md` (Раздел "Роли и права") | Описание прав доступа для каждой роли. |
| **Блок 4: Архитектура** | `docs/DEVELOPMENT_PLAN.md` (Разделы 2, 3, 5) | Фиксация технического стека, архитектурных решений и ограничений. |
| | `.cursorrules` (Раздел "Технический стек") | Глобальное правило для Cursor, чтобы он использовал правильные технологии. |
| **Блок 5: Данные и Модели** | `[app_name]/models.py` | Прямое создание моделей Django с полями и связями. |
| | `[app_name]/admin.py` | Настройка отображения моделей в админ-панели Django. |
| **Блок 6: API и Интеграции** | `api/views.py`, `api/serializers.py` | Создание эндпоинтов и сериализаторов для REST API. |
| | `integrations/` (модуль) | Код для взаимодействия с внешними сервисами. |
| **Блок 7: Искусственный интеллект** | `agents/` (модуль) | Реализация ИИ-агентов и мультиагентных систем. |
| | `rag/` (модуль) | Код для систем Retrieval-Augmented Generation. |
| | `prompts/` (директория) | Хранилище промптов для различных ИИ-задач. |
| **Блок 8: Автоматизация** | `[app_name]/tasks.py` | Определение фоновых и периодических задач для Celery. |
| | `n8n_workflows/` (директория) | Хранение JSON-файлов с воркфлоу для N8n. |
| **Блок 9: Контроль и Мониторинг** | `core/logging_config.py` | Настройка конфигурации логирования. |
| | `dashboards/` (модуль) | Код для создания дашбордов и отчётов. |
| | `[app_name]/models.py` (интеграция с `django-auditlog`) | Подключение аудита к нужным моделям. |
| **Блок 10: Инфраструктура** | `.github/workflows/` | Файлы для настройки CI/CD. |
| | `requirements.txt` или `pyproject.toml` | Список зависимостей проекта. |
| | `README.md` | Инструкции по развёртыванию и запуску проекта. |

---

После заполнения этого опросника у вас будет вся необходимая информация для старта проекта. Вы можете передать этот документ (или ответы из него) LLM-ассистенту в Cursor, и он сможет сгенерировать на его основе полную и структурированную проектную документацию, а затем и сам код.
